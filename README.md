# AI 五子棋游戏

## 项目简介

本项目是一个基于 Qt 框架开发的五子棋游戏，支持单人对战 AI 和双人对战模式。AI 使用了博弈树、α-β 剪枝技术和 Zobrist 哈希来实现智能决策。游戏提供了丰富的功能，包括提示、棋盘反转、悔棋、重新开始、回合计数等。

## 功能特性

- **单人对战 AI**：玩家可以与 AI 进行对战，AI 使用博弈树、α-β 剪枝和 Zobrist 哈希进行决策。
- **双人对战**：支持两名玩家在同一设备上进行对战。
- **提示功能**：在单人对战模式下，玩家可以请求 AI 给出下一步的最佳落子位置。
- **棋盘反转**：玩家可以反转棋子颜色，方便不同视角的对战。
- **悔棋功能**：玩家可以撤销上一步的落子，支持多次悔棋。
- **重新开始**：玩家可以随时重新开始游戏。
- **回合计数**：游戏界面显示当前回合数以及ai评估得分，方便玩家了解游戏进度。

## 技术细节

### 博弈树与 α-β 剪枝

AI 的核心算法基于博弈树和 α-β 剪枝技术。博弈树用于模拟可能的落子情况，而 α-β 剪枝则用于减少搜索空间，提高决策效率。

- **博弈树**：AI 通过构建博弈树来模拟每一步可能的落子情况，评估每种情况的得分。
- **α-β 剪枝**：在博弈树搜索过程中，通过 α-β 剪枝技术剪去不必要的分支，减少计算量，提高搜索效率。

### Zobrist 哈希

Zobrist 哈希是一种用于快速更新和比较棋盘状态的哈希技术。它通过为每个可能的棋盘位置和棋子类型分配一个唯一的随机数，来生成棋盘的哈希值。

- **哈希生成**：每个棋盘位置和棋子类型组合都有一个唯一的随机数，棋盘的哈希值通过异或这些随机数生成。
- **快速更新**：当棋盘状态改变时，只需异或新位置的随机数即可更新哈希值，无需重新计算整个棋盘的哈希。
- **状态比较**：通过比较哈希值，可以快速判断两个棋盘状态是否相同，减少重复计算。

### 评估函数

AI 的决策依赖于一个评估函数，该函数根据当前棋盘状态计算得分。评估函数考虑了以下因素：

- 连子数：AI 会优先选择能够形成更多连子的位置。
- 防守与进攻：AI 会根据当前局势选择进攻或防守策略。
- 棋盘中心控制：AI 会优先控制棋盘中心区域，以获得更大的优势。

## 项目结构

```
AI_Gomoku/
├── Bigwork.pro              # Qt 项目文件
├── Bigwork.pro.user         # 用户特定的项目设置
├── chessai.cpp              # AI 核心逻辑实现
├── chessai.h                # AI 核心逻辑头文件
├── gamewidget.cpp           # 游戏界面逻辑实现
├── gamewidget.h             # 游戏界面逻辑头文件
├── gamewidget.ui            # 游戏界面设计文件
├── image.qrc                # 资源文件
├── main.cpp                 # 主程序入口
├── R.Cico                   # 应用程序图标
├── widget.cpp               # 主窗口逻辑实现
├── widget.h                 # 主窗口逻辑头文件
├── widget.ui                # 主窗口设计文件
├── zobrist.cpp              # Zobrist 哈希实现
└── zobrist.h                # Zobrist 哈希头文件
```

## 编译与运行

### 依赖项

- Qt 5.x 或更高版本
- CMake 3.x 或更高版本

### 编译步骤

1. 下载项目到本地：

2. 使用 Qt Creator 打开 `Bigwork.pro` 文件。

3. 配置项目并构建。

4. 运行游戏。

## 使用说明

1. **选择游戏模式**：启动游戏后，选择单人对战 AI 或双人对战模式。
2. **开始游戏**：点击棋盘上的交叉点进行落子。
3. **使用功能**：
   - **提示**：点击“提示”按钮，AI 会给出下一步的最佳落子位置。
   - **反转棋盘**：点击“反转”按钮，双方会交换棋子颜色。
   - **悔棋**：点击“悔棋”按钮，撤销上一步的落子。
   - **重新开始**：点击“重新开始”按钮，重置棋盘并开始新游戏。
4. **查看回合计数**：游戏界面会显示当前回合数，以及ai得分。

## 未来改进

- **优化 AI 算法**：进一步提高 AI 的决策能力，增加更多的策略和评估因素。
- **增加难度选择**：提供不同难度的 AI 对手，适应不同水平的玩家。
- **网络对战**：支持玩家通过网络进行对战。


感谢您使用 AI 五子棋游戏！希望您享受游戏的乐趣！
